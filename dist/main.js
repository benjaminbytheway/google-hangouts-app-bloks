define("events",[],function(){var e={},t={};return{on:function(n,r,a){if(t[n]){if(!a)return;try{r(t[n])}catch(i){}}e[n]||(e[n]=[]),e[n].push(r)},off:function(t,n){var r;if(e[t]&&e[t].length)for(r=e[t].length-1;r>=0;r--)e[t][r]===n&&e[t][r].splice(r,1)},trigger:function(n,r){var a,i,o;if(t[n]=r,e[n]&&e[n].length)for(a=0,i=e[n].length;i>a;a++)if(o=e[n][a])try{o(r)}catch(s){}return!0}}}),define("player",["events"],function(){var e=function(e){var t=this;if(!e.type)throw new Error("config.type was not provided");if(t.type=e.type,"human"===t.type){if(!e.participant)throw new Error("config.participant was not provided");t.participant=e.participant}else if("computer"!==t.type)throw new Error('config.type is not a supported type (either "human", or "computer")')};e.prototype;return e}),define("game",["player","events"],function(e){var t;return t={players:[],addPlayer:function(t){var n,r=this;return r.players.length<4?(n=new e(t),r.setHost(n),r.players.push(n),!0):!1},removePlayer:function(e){var t;for(t=self.players.length-1;t>=0;t--)if(self.players[t]===e)return self.players.splice(t,1),!0;return!1},host:null,setHost:function(e){return 0===self.players.length&&"human"===e.type?(self.host=e,!0):!1},stages:{LOBBY:1,LOADING:2,PLAY:3,DETERMINE_WINNER:4,CONGRATULATIONS:5},currentStage:0,startStage:function(e){var t=this;t.currentStage=e,t.currentStage===t.stages.LOBBY||t.currentStage===t.stages.LOADING},startGame:function(){}}}),require(["game","player","events"],function(e,t,n){var r=new Promise(function(e,t){gapi.hangout.onApiReady.add(function(t){t.isApiReady&&e()})});r.then(function(){gapi.hangout.data.onStateChanged.add(function(e){"playerJoined"===e.state.eventName&&n.trigger("playerJoined",e.state.players)}),gapi.hangout.onParticipantsDisabled.add(function(e){var t,n;for(t=0,n=e.enabledParticipants.length;n>t;t++);}),e.startStage(e.stages.LOBBY)})}),define("main",function(){});